→色の矢印を　α（アルファ）
→色の矢印を　β（ベータ）
と呼ぶとする。　常に手番の人の主観に立つものとし、　αは私（手番）、βはあなた（相手番）という意味だ。

局面が 0 のとき、 (a)石を 4個取る  (b)石を 5個取る  (c)石を40個取る のいずれかを選べる

局面 0 から到達できるすべての局面について、(a) と (b) に絞って考える

グランディ数の数列の隣り合うペアの順列を見ると、以下の５種類があるようだ
(0, 0) (0, 2) (1, 0) (1, 1) (2, 1)

α がグランディ数 2 の方を選ぶと、 β は グランディ数が (1, 0) のものを選べるようだ。
α がグランディ数 1 の方を選ぶと、 β は グランディ数が (0, 0) または (0, 2) または (2, 1) のものを選べるようだ。
α がグランディ数 0 の方を選ぶと、 β は グランディ数が (1, 1) または (2, 1) のものを選べるようだ。

言い換えると、

α がグランディ数 2 の方を選ぶと、 β は グランディ数が 0 のものを選べる
α がグランディ数 1 の方を選ぶと、 β は グランディ数が 0 のものを選べる
α がグランディ数 0 の方を選ぶと、 β は グランディ数が 0 のものを選べない

であるから、 α は グランディ数が 0 のものを選び続けると必勝だ




まず、図中の穴あきカードについて説明する　（この一連の記事の条件設定は引き継ぐ）

α の穴が 非0 のとき、 β の穴に 0 が含まれる
α の穴が 0 のとき、 β の穴は全て 非0 だ
取れる石の数 c を選んだときのグランディ数と、 α の穴のグランディ数は、 0 か 非0 かについて一致するだろう







先に答えを知っているとする。 S = { 4, 5, 40 } のグランディ数の周期は 9 のようだ。  

"0 0 0 0 1 1 1 1 2"

ここで、グランディ数の周期が９であることの気持ちを説明する　（この一連の記事の条件設定は引き継ぐ）

α β a b と似た文字を使うので注意して見分けてほしい。 α は手番、β は相手番、 a, b は S = { a, b, c } から来ている


周期は１ではない
==============

もしグランディ数の周期が　１　なら、　グランディ数が　０　ならずっと　０、　非０　なら　ずっと　非ゼロ　だろうから、
グランディ数は　０と　非０　があることから、周期１　は無いだろう。

この例では、周期は４，５ではない
============================

α　の図を見てほしい。
もしグランディ数の周期が　４や５　なら　β が α と同じレールに乗り、 α と β の違いがなくなるという選択肢を選べるようになる。これは おかしい

周期のパターンの１つに a+b がある
==============================

α＋β　の図を見てほしい。 自分が石を取り、相手も石を取ったというペアを指す。
具体的には (a, a) (a, b) (b, a) (b, b) の 4 通りがある

ここで、 β に a を選ばれたにしろ、 b を選ばれたにしろ、同じ結果に合流できる応手が (a, b) または (b, a) だ。
交換法則に甘えて a+b とでも表現することにする

周期のパターンは何種類あるのか知らないが、 a+b は少なくともその１つのようだ



S = { 4, 5, 40 }
a+b が周期として表れる気持ちを図解として示すとこう:smiley: 


0,非0 が交互に現れる周期
1:1のケース (周期2)
3:3のケース (周期6)

0:非0 = 2:3のケース (39より後ろから、周期5)



|    c | bit-grundy |
| ---: | ---------: |
|   20 |         21 |
|   40 |         42 |
|   60 |         63 |
|   80 |         84 |
|  200 |        210 |
|  400 |        420 |

20 倍の時点でずれるような？  


グランディ数の周期は、頭と尻尾が被っていない長さを言う。





ところで、この穴あきカードについて、冗長な話をしたい。以下の７つの穴についてだ

a     
b     
c     
a+b   
b+c   
c+a   
a+b+c 


この空間は (mod c) なので、 α から見て穴の位置は、

a     = a   (mod c)
b     =   b (mod c)
c     = a   (mod c)
a+b   = a+b (mod c)
b+c   =   b (mod c)
c+a   = a   (mod c)
a+b+c = a+b (mod c)



ここで、 周期 6 というのは、 穴あきカードの上で穴あきカードが移動する長さ のように体験できる







c を ab （正方形）の定数倍と条件設定したことで、周期 は調べ中だが、以下の ４パターン がよく出てくるようだ

(1) a+b
(2) b+c
(3) c+a
(4) 変則パターンの偶数。2 とか 6 とか。 S = {奇, 奇, 奇} のとき見かけた。 例: S={1,3,9} S={3,9,27}
(*) 他にもあるかどうか分からない

ここで c は ab の公倍数であり、 mod c で 0 になるので 0 だとすると、

(1) a+b
(2) b (mod c)
(3) a (mod c)
